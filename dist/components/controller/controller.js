(()=>{"use strict";var e={34:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(359));class n extends o.default{constructor(){super("https://newsapi.org/v2/",{apiKey:"392c98c4603e491abf6e16d495fc2ffb"})}}t.default=n},244:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(34));class n extends o.default{getSources(e){super.getResp({endpoint:"sources"},(t=>{if(t.sources&&t.sources.length>0){const s=t.sources.map((e=>Object.assign(Object.assign({},e),{description:e.description||"",url:e.url||"",category:e.category||"unknown",language:e.language||"en",country:e.country||"us"})));e({status:t.status,sources:s})}else console.error("Sources not found in API response"),e({status:t.status,sources:[]})}))}getNews(e,t){let s=e.target;const r=e.currentTarget;for(;s!==r;){if(s.classList.contains("source__item")){const e=s.getAttribute("data-source-id");return void(e&&r.getAttribute("data-source")!==e&&(r.setAttribute("data-source",e),super.getResp({endpoint:"everything",options:{sources:e}},(e=>{t({status:e.status,articles:e.articles||[]})}))))}s=s.parentNode}}}t.default=n},359:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.baseLink=e,this.options=t}getResp({endpoint:e,options:t={}},s=()=>{console.error("No callback for GET response")}){this.load("GET",e,s,t)}errorHandler(e){if(!e.ok)throw 401!==e.status&&404!==e.status||console.log(`Sorry, but there is ${e.status} error: ${e.statusText}`),Error(e.statusText);return e}makeUrl(e,t){const s=Object.assign(Object.assign({},this.options),e);let r=`${this.baseLink}${t}?`;return Object.keys(s).forEach((e=>{r+=`${e}=${s[e]}&`})),r.slice(0,-1)}load(e,t,s,r={}){fetch(this.makeUrl(r,t),{method:e}).then(this.errorHandler).then((e=>e.json())).then((e=>s(e))).catch((e=>console.error(e)))}}}},t={};!function s(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}(244)})();